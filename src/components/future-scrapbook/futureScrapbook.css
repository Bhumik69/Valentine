@import url("https://fonts.cdnfonts.com/css/feeling-passionate");

/* =========================
   FUTURE SCRAPBOOK (Catch the Heart)
   - No scroll
   - Game centered ABOVE back button
   - Works on any width/height changes
   ========================= */

.fp {
  --safe: clamp(10px, 2.2vw, 22px);
  --gap: clamp(10px, 1.8vh, 16px);
  --pad: clamp(14px, 2.6vw, 22px);

  --cardW: min(92vw, 680px);
  --cardH: min(88svh, 720px);

  --title: clamp(22px, 5vw, 40px);
  --sub: clamp(12px, 2.6vw, 15px);
  --score: clamp(12px, 2.6vw, 14px);
  --btn: clamp(13px, 2.8vw, 16px);

  position: fixed;
  inset: 0;
  width: 100%;
  height: 100svh;
  padding: var(--safe);

  display: grid;
  place-items: center;

  overflow: hidden;
  isolation: isolate;

  background:
    radial-gradient(900px 560px at 20% 12%, rgba(255, 255, 255, 0.85), rgba(255, 255, 255, 0) 60%),
    radial-gradient(700px 520px at 80% 18%, rgba(255, 240, 248, 0.9), rgba(255, 240, 248, 0) 65%),
    linear-gradient(180deg, #ffe9f0 0%, #fff7ef 55%, #ffeef4 100%);
}

/* Decorative texture */
.fp::before {
  content: "";
  position: absolute;
  inset: -10%;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180' viewBox='0 0 180 180'%3E%3Cg fill='none'%3E%3Cpath d='M30 36c-5-8-16-6-18 3-2 10 9 15 18 24 9-9 20-14 18-24-2-9-13-11-18-3z' fill='%23ff6a8a' fill-opacity='.18'/%3E%3Cpath d='M150 44c-4-7-14-6-16 3-2 9 8 13 16 20 8-7 18-11 16-20-2-8-12-10-16-3z' fill='%23ff6a8a' fill-opacity='.14'/%3E%3Cpath d='M66 146c-4-7-14-6-16 3-2 9 8 13 16 20 8-7 18-11 16-20-2-8-12-10-16-3z' fill='%23ff6a8a' fill-opacity='.16'/%3E%3Cpath d='M126 122c-5-8-16-6-18 3-2 10 9 15 18 24 9-9 20-14 18-24-2-9-13-11-18-3z' fill='%23ff6a8a' fill-opacity='.12'/%3E%3C/g%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 180px 180px;
  opacity: 0.55;
}

.fp * {
  box-sizing: border-box;
  min-width: 0;
  min-height: 0;
}

.fp img {
  max-width: 100%;
  display: block;
}

/* =========================
   CARD
   Grid ensures:
   header top
   game center
   back bottom
   no overflow
   ========================= */

.fp__card {
  width: var(--cardW);
  height: var(--cardH);

  display: grid;
  grid-template-rows: auto 1fr auto; /* header, game, footer */
  gap: var(--gap);

  padding: var(--pad);

  background: rgba(255, 255, 255, 0.78);
  border-radius: 24px;
  border: 1px solid rgba(255, 200, 215, 0.6);
  box-shadow: 0 24px 60px rgba(80, 40, 60, 0.16);

  overflow: hidden;
  position: relative;
  z-index: 1;
}

/* Header */
.fp__header {
  text-align: center;
  display: grid;
  gap: 6px;
}

.fp__title {
  margin: 0;
  font-family: "Feeling Passionate", "Segoe Script", "Bradley Hand", "Comic Sans MS", cursive;
  font-size: var(--title);
  color: #c73963;
  text-shadow: 0 2px 8px rgba(255, 160, 190, 0.45);
  line-height: 1.05;
}

.fp__subtitle {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  color: #6b4c58;
  font-size: var(--sub);
}

.fp__scoreRow {
  display: grid;
  gap: 8px;
  justify-items: center;
}

.fp__score {
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  font-weight: 800;
  color: #a64463;
  font-size: var(--score);
}

.fp__progress {
  width: min(320px, 86%);
  height: 8px;
  border-radius: 999px;
  background: rgba(255, 210, 225, 0.7);
  border: 1px solid rgba(255, 175, 200, 0.6);
  overflow: hidden;
}

.fp__progressFill {
  height: 100%;
  width: 0%;
  background: linear-gradient(135deg, #ff8fb0, #ff5f8d);
  transition: width 160ms ease;
}

/* =========================
   GAME WRAP (centered)
   This is the key: it always scales with the remaining space
   ========================= */

.fp__gameWrap {
  display: grid;
  place-items: center;
  min-height: 0;
}

.fp__playArea {
  width: 100%;
  height: 100%;

  /* âœ… No magic numbers: clamp by available space */
  max-width: min(560px, 100%);
  max-height: 100%;

  border-radius: 20px;
  background:
    radial-gradient(520px 320px at 50% 30%, rgba(255, 230, 240, 0.95), rgba(255, 230, 240, 0) 60%),
    linear-gradient(180deg, #fff5fa, #ffffff);
  border: 1px solid rgba(255, 175, 200, 0.65);
  box-shadow: 0 18px 40px rgba(80, 40, 60, 0.12);
  overflow: hidden;

  position: relative;
  touch-action: manipulation;
  user-select: none;
}

/* Heart */
.fp__heart {
  position: absolute;
  display: grid;
  place-items: center;
  border: none;
  padding: 0;

  background: radial-gradient(circle at top, #fff, #ffe6f0);
  border: 2px solid rgba(255, 120, 160, 0.9);
  border-radius: 999px;

  cursor: pointer;
  box-shadow:
    0 14px 30px rgba(255, 80, 130, 0.28),
    0 0 0 4px rgba(255, 255, 255, 0.7) inset;

  transition: transform 0.12s ease, box-shadow 0.12s ease;
  animation: fpHeartFloat 2.6s ease-in-out infinite;
  font-size: clamp(22px, 5vw, 34px);
}

.fp__heart:active {
  transform: scale(0.88);
}

@keyframes fpHeartFloat {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-6px);
  }
}

/* Footer */
.fp__footer {
  display: grid;
  place-items: center;
}

.fp__back {
  border: none;
  background: #ffe8ef;
  color: #c84a6b;
  font-weight: 900;

  padding: 14px 20px;
  border-radius: 999px;
  cursor: pointer;

  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  font-size: var(--btn);

  min-height: 44px;
  white-space: nowrap;
}

/* Overlays */
.fp__overlay {
  position: fixed;
  inset: 0;
  background: rgba(20, 10, 15, 0.55);
  display: grid;
  place-items: center;
  padding: clamp(16px, 3vw, 24px);
  z-index: 50;
  overflow: hidden;
}

.fp__overlayCard {
  width: min(560px, 92vw);
  background: #fff9fa;
  border-radius: 22px;
  padding: clamp(16px, 3vw, 24px);
  text-align: center;
  border: 1px solid rgba(242, 201, 212, 0.9);
  box-shadow: 0 24px 60px rgba(80, 50, 70, 0.2);
  display: grid;
  gap: 10px;
}

.fp__overlayCard h2 {
  margin: 0;
  font-family: "Feeling Passionate", "Segoe Script", "Bradley Hand", "Comic Sans MS", cursive;
  font-weight: 400;
  font-size: clamp(22px, 4vw, 34px);
  color: #e0527c;
}

.fp__overlayCard p {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  font-size: clamp(13px, 2.2vw, 16px);
  color: #5b3f4a;
  line-height: 1.5;
}

.fp__payline {
  color: #c84a6b;
  font-weight: 1000;
}

.fp__cta {
  border: none;
  background: linear-gradient(135deg, #ff8fb0, #ff5f8d);
  color: #fff;
  font-weight: 1000;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  padding: 12px 16px;
  border-radius: 999px;
  cursor: pointer;
  box-shadow: 0 14px 30px rgba(255, 80, 130, 0.2);
  min-height: 44px;
}

.fp__overlayImage {
  width: clamp(92px, 22vw, 170px);
  height: clamp(92px, 22vw, 170px);
  border-radius: 18px;
  background: rgba(255, 228, 236, 0.85);
  border: 1px solid rgba(255, 175, 200, 0.7);
  display: grid;
  place-items: center;
  margin: 0 auto 6px;
  overflow: hidden;
}

.fp__overlayImage img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Success icon */
.fp__successIcon {
  width: clamp(80px, 18vw, 140px);
  height: clamp(80px, 18vw, 140px);
  border-radius: 50%;
  background: #20c65a;
  box-shadow: 0 14px 30px rgba(32, 198, 90, 0.35);
  display: grid;
  place-items: center;
  margin: 0 auto 6px;
}

.fp__successTick {
  width: 42%;
  height: 22%;
  border-left: clamp(6px, 1vw, 10px) solid #fff;
  border-bottom: clamp(6px, 1vw, 10px) solid #fff;
  transform: rotate(-45deg);
  margin-top: -4px;
}

.fp__successCongrats {
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  font-weight: 900;
  color: #2f1c24;
  font-size: clamp(16px, 3.2vw, 22px);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.fp__successTitle {
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  font-weight: 800;
  font-size: clamp(18px, 3.6vw, 26px);
  color: #3a2a32;
}

/* Decorative layer */
.fp__decor {
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
}

.fp__glow {
  position: absolute;
  width: clamp(180px, 35vw, 420px);
  height: clamp(180px, 35vw, 420px);
  border-radius: 50%;
  filter: blur(clamp(30px, 6vw, 90px));
  opacity: 0.35;
}

.fp__glow--a {
  top: -6svh;
  left: -6vw;
  background: radial-gradient(circle, rgba(255, 175, 200, 0.55), rgba(255, 175, 200, 0));
}

.fp__glow--b {
  bottom: -8svh;
  right: -8vw;
  background: radial-gradient(circle, rgba(255, 205, 180, 0.5), rgba(255, 205, 180, 0));
}

.fp__floaters {
  position: absolute;
  inset: 0;
}

.fp__float {
  position: absolute;
  bottom: -12px;
  width: clamp(10px, 1.6vw, 16px);
  height: clamp(10px, 1.6vw, 16px);
  opacity: 0.35;
  animation: fpFloatUp linear infinite;
  filter: blur(0.2px);
}

.fp__float::before,
.fp__float::after {
  content: "";
  position: absolute;
  background: rgba(255, 140, 170, 0.75);
  border-radius: 50%;
}

.fp__float::before {
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.fp__float::after {
  width: 100%;
  height: 100%;
  left: -45%;
  top: 0;
}

@keyframes fpFloatUp {
  0% {
    transform: translateY(0) translateX(0) scale(1);
    opacity: 0;
  }
  15% {
    opacity: 0.35;
  }
  100% {
    transform: translateY(-120svh) translateX(30px) scale(1.15);
    opacity: 0;
  }
}

.fp__float--1 { left: 6%; animation-duration: 10s; }
.fp__float--2 { left: 14%; animation-duration: 12s; }
.fp__float--3 { left: 24%; animation-duration: 9s; }
.fp__float--4 { left: 34%; animation-duration: 11s; }
.fp__float--5 { left: 46%; animation-duration: 8.5s; }
.fp__float--6 { left: 56%; animation-duration: 12.5s; }
.fp__float--7 { left: 66%; animation-duration: 9.5s; }
.fp__float--8 { left: 76%; animation-duration: 11.5s; }
.fp__float--9 { left: 86%; animation-duration: 10.5s; }
.fp__float--10 { left: 94%; animation-duration: 13s; }

/* Confetti pieces (simple but effective) */
.fp__confetti {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 0;
}

.fp__confettiPiece {
  position: absolute;
  width: 10px;
  height: 16px;
  border-radius: 3px;
  opacity: 0.9;
  animation: fpConfettiFall 1.8s ease-in-out infinite;
  background: rgba(244, 63, 94, 0.9);
}

@keyframes fpConfettiFall {
  0% {
    transform: translate3d(var(--x, 0px), 0, 0) rotate(0deg);
    opacity: 0;
  }
  15% { opacity: 1; }
  100% {
    transform: translate3d(var(--x, 0px), 110svh, 0) rotate(320deg);
    opacity: 0;
  }
}

.fp__confettiPiece--1 { left: 0%; top: -12px; --x: 18vw; }
.fp__confettiPiece--2 { left: 10%; top: -20px; --x: 12vw; animation-delay: .08s; }
.fp__confettiPiece--3 { left: 20%; top: -28px; --x: 8vw; animation-delay: .16s; }
.fp__confettiPiece--4 { left: 30%; top: -16px; --x: 4vw; animation-delay: .24s; }
.fp__confettiPiece--5 { left: 40%; top: -24px; --x: 0vw; animation-delay: .32s; }
.fp__confettiPiece--6 { left: 50%; top: -32px; --x: -4vw; animation-delay: .4s; }
.fp__confettiPiece--7 { left: 60%; top: -12px; --x: -8vw; animation-delay: .04s; }
.fp__confettiPiece--8 { left: 70%; top: -20px; --x: -12vw; animation-delay: .12s; }
.fp__confettiPiece--9 { left: 80%; top: -28px; --x: -16vw; animation-delay: .2s; }
.fp__confettiPiece--10 { left: 90%; top: -16px; --x: -18vw; animation-delay: .28s; }
.fp__confettiPiece--11 { left: 95%; top: -24px; --x: -22vw; animation-delay: .36s; }
.fp__confettiPiece--12 { left: 5%; top: -32px; --x: 22vw; animation-delay: .44s; }
.fp__confettiPiece--13 { left: 15%; top: -14px; --x: 14vw; animation-delay: .5s; }
.fp__confettiPiece--14 { left: 25%; top: -22px; --x: 10vw; animation-delay: .58s; }
.fp__confettiPiece--15 { left: 75%; top: -14px; --x: -10vw; animation-delay: .52s; }
.fp__confettiPiece--16 { left: 85%; top: -22px; --x: -14vw; animation-delay: .6s; }
.fp__confettiPiece--17 { left: 35%; top: -18px; --x: 6vw; animation-delay: .66s; }
.fp__confettiPiece--18 { left: 65%; top: -18px; --x: -6vw; animation-delay: .68s; }

/* Extra safety for super-short screens */
@media (max-height: 560px) {
  .fp {
    --cardH: min(92svh, 560px);
    --gap: 10px;
    --pad: 12px;
  }
  .fp__back {
    padding: 10px 14px;
  }
}
