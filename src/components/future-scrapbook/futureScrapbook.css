@import url("https://fonts.cdnfonts.com/css/feeling-passionate");

/* =========================
   FP (Catch the Heart) PAGE CSS (BIGGER GAME BOX)
   - Bigger card + bigger play area
   - Back button will NOT stretch
   - Still single-screen (no page scroll)
   ========================= */

:root {
  /* --- Bigger card (still capped by 100dvh via --fp-card-max) --- */
  --fp-card-w: min(92vw, 640px);
  --fp-card-h: clamp(420px, 74vh, 620px);

  /* --- ✅ Bigger play box target --- */
  --fp-play-h: clamp(360px, 58vh, 520px);

  --fp-title: clamp(24px, 5.2vw, 40px);
  --fp-subtitle: clamp(12px, 2.6vw, 15px);
  --fp-score: clamp(12px, 2.6vw, 14px);
  --fp-back: clamp(13px, 2.8vw, 16px);

  --fp-pad: clamp(12px, 2.6vw, 20px);
  --fp-gap: clamp(8px, 1.6vh, 14px);

  /* --- No-scroll helpers --- */
  --fp-safe-pad: 16px;
  --fp-card-max: calc(100dvh - (var(--fp-safe-pad) * 2));
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

* {
  min-width: 0;
  min-height: 0;
}

html,
body,
#root {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  overscroll-behavior: none;
}

body {
  overflow: hidden;
  min-height: 100dvh;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

#root {
  overflow: clip;
}

img,
video,
canvas,
svg,
iframe {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Screen wrapper */
.fp {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100dvh;

  display: grid;
  place-items: center;

  background:
    radial-gradient(900px 560px at 20% 12%, rgba(255, 255, 255, 0.85), rgba(255, 255, 255, 0) 60%),
    radial-gradient(700px 520px at 80% 18%, rgba(255, 240, 248, 0.9), rgba(255, 240, 248, 0) 65%),
    linear-gradient(180deg, #ffe9f0 0%, #fff7ef 55%, #ffeef4 100%);

  padding: clamp(10px, 2.4vw, 18px);
  overflow: clip;
  isolation: isolate;
}

.fp::before,
.fp::after {
  content: "";
  position: absolute;
  inset: -10%;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180' viewBox='0 0 180 180'%3E%3Cg fill='none'%3E%3Cpath d='M30 36c-5-8-16-6-18 3-2 10 9 15 18 24 9-9 20-14 18-24-2-9-13-11-18-3z' fill='%23ff6a8a' fill-opacity='.18'/%3E%3Cpath d='M150 44c-4-7-14-6-16 3-2 9 8 13 16 20 8-7 18-11 16-20-2-8-12-10-16-3z' fill='%23ff6a8a' fill-opacity='.14'/%3E%3Cpath d='M66 146c-4-7-14-6-16 3-2 9 8 13 16 20 8-7 18-11 16-20-2-8-12-10-16-3z' fill='%23ff6a8a' fill-opacity='.16'/%3E%3Cpath d='M126 122c-5-8-16-6-18 3-2 10 9 15 18 24 9-9 20-14 18-24-2-9-13-11-18-3z' fill='%23ff6a8a' fill-opacity='.12'/%3E%3C/g%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 180px 180px;
  opacity: 0.6;
}

/* Card */
.fp__card {
  position: relative;
  width: var(--fp-card-w);
  height: min(var(--fp-card-h), var(--fp-card-max));

  background: rgba(255, 255, 255, 0.78);
  border-radius: 24px;
  border: 1px solid rgba(255, 200, 215, 0.6);
  box-shadow: 0 24px 60px rgba(80, 40, 60, 0.16);

  display: grid;
  grid-template-rows: auto 1fr auto; /* header, middle (score+play), footer */
  gap: var(--fp-gap);
  padding: var(--fp-pad);

  z-index: 1;
  overflow: hidden;
}

/* Header */
.fp__header {
  text-align: center;
  display: grid;
  gap: 6px;
}

.fp__title {
  margin: 0;
  font-family: "Feeling Passionate", "Segoe Script", "Bradley Hand", "Comic Sans MS", cursive;
  font-size: var(--fp-title);
  color: #c73963;
  text-shadow: 0 2px 8px rgba(255, 160, 190, 0.45);
  line-height: 1.05;
}

.fp__subtitle {
  margin: 0;
  font-family: "Aristotelica Pro", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  color: #6b4c58;
  font-size: var(--fp-subtitle);
}

/* Score */
.fp__scoreRow {
  display: grid;
  gap: 6px;
  justify-items: center;
}

.fp__score {
  font-family: "Aristotelica Pro", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  font-weight: 800;
  color: #a64463;
  font-size: var(--fp-score);
}

.fp__progress {
  width: min(320px, 80%);
  height: 8px;
  border-radius: 999px;
  background: rgba(255, 210, 225, 0.7);
  border: 1px solid rgba(255, 175, 200, 0.6);
  overflow: hidden;
}

.fp__progressFill {
  height: 100%;
  width: 0%;
  background: linear-gradient(135deg, #ff8fb0, #ff5f8d);
  transition: width 160ms ease;
}

/* ✅ Bigger play area (still capped so no scroll) */
.fp__playArea {
  position: relative;
  width: 100%;

  /* reduce headroom so play box grows */
  --fp-headroom: 92px;
  height: min(var(--fp-play-h), calc(100% - var(--fp-headroom)));

  border-radius: 20px;
  background:
    radial-gradient(520px 320px at 50% 30%, rgba(255, 230, 240, 0.95), rgba(255, 230, 240, 0) 60%),
    linear-gradient(180deg, #fff5fa, #ffffff);
  border: 1px solid rgba(255, 175, 200, 0.65);
  box-shadow: 0 18px 40px rgba(80, 40, 60, 0.12);
  overflow: hidden;

  touch-action: manipulation;
  user-select: none;
}

.fp__heart {
  position: absolute;
  display: grid;
  place-items: center;
  border: none;
  background: radial-gradient(circle at top, #fff, #ffe6f0);
  border: 2px solid rgba(255, 120, 160, 0.9);
  border-radius: 999px;
  cursor: pointer;
  box-shadow:
    0 14px 30px rgba(255, 80, 130, 0.28),
    0 0 0 4px rgba(255, 255, 255, 0.7) inset;
  transition: transform 0.12s ease, box-shadow 0.12s ease;
  animation: heartFloat 2.6s ease-in-out infinite;
  padding: 0;
}

.fp__heart:active {
  transform: scale(0.88);
}

@keyframes heartFloat {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-6px);
  }
}

/* Footer */
.fp__footer {
  display: grid;
  gap: 8px;
  justify-items: center;
  align-items: center;
  margin-top: 6px;
}

/* ✅ prevent stretched tall pill */
.fp__back {
  border: none;
  background: #ffe8ef;
  color: #c84a6b;
  font-weight: 800;
  padding: 14px 20px;
  border-radius: 999px;
  cursor: pointer;

  font-family: "Aristotelica Pro", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  font-size: var(--fp-back);

  justify-self: center;
  align-self: center;
  display: inline-flex;
  width: auto;
  height: auto;
  white-space: nowrap;
}

/* Overlay (unchanged layout) */
.fp__overlay {
  position: fixed;
  inset: 0;
  background: rgba(20, 10, 15, 0.55);
  display: grid;
  place-items: center;
  padding: clamp(16px, 3vw, 24px);
  z-index: 50;
  overflow: clip;
}

.fp__overlayCard {
  width: min(560px, 92vw);
  background: #fff9fa;
  border-radius: 22px;
  padding: clamp(16px, 3vw, 24px);
  text-align: center;
  border: 1px solid rgba(242, 201, 212, 0.9);
  box-shadow: 0 24px 60px rgba(80, 50, 70, 0.2);
  display: grid;
  gap: 10px;
}

.fp__overlayCard h2 {
  margin: 0;
  font-family: "Feeling Passionate", "Segoe Script", "Bradley Hand", "Comic Sans MS", cursive;
  font-weight: 400;
  font-size: clamp(22px, 4vw, 34px);
  color: #e0527c;
}

.fp__overlayCard p {
  margin: 0;
  font-family: "Aristotelica Pro", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  font-size: clamp(13px, 2.2vw, 16px);
  color: #5b3f4a;
  line-height: 1.5;
}

.fp__payline {
  color: #c84a6b;
  font-weight: 1000;
}

.fp__cta {
  border: none;
  background: linear-gradient(135deg, #ff8fb0, #ff5f8d);
  color: #fff;
  font-weight: 1000;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  padding: 12px 16px;
  border-radius: 999px;
  cursor: pointer;
  box-shadow: 0 14px 30px rgba(255, 80, 130, 0.2);
}

.fp__overlayImage {
  width: clamp(92px, 22vw, 170px);
  height: clamp(92px, 22vw, 170px);
  border-radius: 18px;
  background: rgba(255, 228, 236, 0.85);
  border: 1px solid rgba(255, 175, 200, 0.7);
  display: grid;
  place-items: center;
  margin: 0 auto 6px;
  overflow: hidden;
}

.fp__overlayImage img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform: translate(var(--fp-box-x, 0px), var(--fp-box-y, 0px))
    scale(var(--fp-box-scale, 1));
  transform-origin: center;
}

/* =========================
   BREAKPOINTS
   ========================= */

@media (max-width: 360px) {
  :root {
    --fp-safe-pad: 12px;
    --fp-card-w: min(94vw, 360px);
    --fp-card-h: clamp(320px, 62vh, 480px);
    --fp-play-h: clamp(260px, 56vh, 380px);
    --fp-title: clamp(22px, 6vw, 34px);
  }
  .fp__playArea {
    --fp-headroom: 98px;
  }
  .fp__back {
    padding: 12px 16px;
  }
}

@media (min-width: 361px) and (max-width: 480px) {
  :root {
    --fp-safe-pad: 14px;
    --fp-card-w: min(92vw, 400px);
    --fp-card-h: clamp(340px, 64vh, 520px);
    --fp-play-h: clamp(280px, 58vh, 420px);
  }
  .fp__playArea {
    --fp-headroom: 98px;
  }
}

@media (min-width: 481px) and (max-width: 768px) {
  :root {
    --fp-card-w: min(92vw, 520px);
    --fp-card-h: clamp(380px, 68vh, 560px);
    --fp-play-h: clamp(320px, 60vh, 480px);
  }
}

@media (min-width: 769px) and (max-width: 1024px) {
  :root {
    --fp-card-w: min(86vw, 560px);
    --fp-card-h: clamp(420px, 70vh, 600px);
    --fp-play-h: clamp(360px, 60vh, 520px);
  }
}

@media (min-width: 1025px) and (max-width: 1440px) {
  :root {
    --fp-card-w: min(70vw, 600px);
    --fp-card-h: clamp(440px, 72vh, 620px);
    --fp-play-h: clamp(380px, 60vh, 540px);
  }
}

@media (min-width: 1441px) {
  :root {
    --fp-card-w: min(60vw, 640px);
    --fp-card-h: clamp(460px, 72vh, 640px);
    --fp-play-h: clamp(400px, 60vh, 560px);
  }
}

@media (max-height: 700px) {
  :root {
    --fp-safe-pad: 10px;
    --fp-card-h: clamp(300px, 60vh, 460px);
    --fp-play-h: clamp(220px, 54vh, 340px);
    --fp-title: clamp(20px, 4.8vw, 32px);
    --fp-gap: clamp(6px, 1.2vh, 10px);
  }
  .fp {
    padding: 10px;
  }
  .fp__card {
    border-radius: 20px;
  }
  .fp__playArea {
    --fp-headroom: 100px;
  }
  .fp__back {
    padding: 10px 14px;
  }
}

@media (orientation: landscape) and (max-height: 520px) {
  :root {
    --fp-safe-pad: 8px;
    --fp-card-h: clamp(260px, 80vh, 380px);
    --fp-play-h: clamp(200px, 64vh, 280px);
    --fp-gap: 8px;
  }
  .fp__playArea {
    --fp-headroom: 92px;
  }
  .fp__back {
    padding: 9px 12px;
  }
}

/* Success icon */
.fp__successIcon {
  width: clamp(80px, 18vw, 140px);
  height: clamp(80px, 18vw, 140px);
  border-radius: 50%;
  background: #20c65a;
  box-shadow: 0 14px 30px rgba(32, 198, 90, 0.35);
  display: grid;
  place-items: center;
  margin: 0 auto 6px;
}

.fp__successTick {
  width: 42%;
  height: 22%;
  border-left: clamp(6px, 1vw, 10px) solid #fff;
  border-bottom: clamp(6px, 1vw, 10px) solid #fff;
  transform: rotate(-45deg);
  margin-top: -4px;
}


/* =========================
   Decorative layer (no layout impact)
   ========================= */
.fp__decor {
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
}

.fp__glow {
  position: absolute;
  width: clamp(180px, 35vw, 420px);
  height: clamp(180px, 35vw, 420px);
  border-radius: 50%;
  filter: blur(clamp(30px, 6vw, 90px));
  opacity: 0.35;
}

.fp__glow--a {
  top: var(--fp-glow-a-top, -6dvh);
  left: var(--fp-glow-a-left, -6dvw);
  background: radial-gradient(circle, rgba(255, 175, 200, 0.55), rgba(255, 175, 200, 0));
}

.fp__glow--b {
  bottom: var(--fp-glow-b-bottom, -8dvh);
  right: var(--fp-glow-b-right, -8dvw);
  background: radial-gradient(circle, rgba(255, 205, 180, 0.5), rgba(255, 205, 180, 0));
}

.fp__floaters {
  position: absolute;
  inset: 0;
}

.fp__float {
  position: absolute;
  bottom: -12px;
  width: clamp(10px, 1.6vw, 16px);
  height: clamp(10px, 1.6vw, 16px);
  opacity: 0.35;
  animation: fpFloatUp linear infinite;
  filter: blur(0.2px);
}

.fp__float::before,
.fp__float::after {
  content: "";
  position: absolute;
  background: rgba(255, 140, 170, 0.75);
  border-radius: 50%;
}

.fp__float::before {
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.fp__float::after {
  width: 100%;
  height: 100%;
  left: -45%;
  top: 0;
}

@keyframes fpFloatUp {
  0% {
    transform: translateY(0) translateX(0) scale(1);
    opacity: 0;
  }
  15% {
    opacity: 0.35;
  }
  100% {
    transform: translateY(-120dvh) translateX(30px) scale(1.15);
    opacity: 0;
  }
}

.fp__float--1 { left: 6%; animation-duration: 10s; }
.fp__float--2 { left: 14%; animation-duration: 12s; }
.fp__float--3 { left: 24%; animation-duration: 9s; }
.fp__float--4 { left: 34%; animation-duration: 11s; }
.fp__float--5 { left: 46%; animation-duration: 8.5s; }
.fp__float--6 { left: 56%; animation-duration: 12.5s; }
.fp__float--7 { left: 66%; animation-duration: 9.5s; }
.fp__float--8 { left: 76%; animation-duration: 11.5s; }
.fp__float--9 { left: 86%; animation-duration: 10.5s; }
.fp__float--10 { left: 94%; animation-duration: 13s; }

@media (max-height: 700px) {
  .fp__glow {
    opacity: 0.25;
  }
  .fp__float {
    opacity: 0.28;
  }
}


.fp__successCongrats {
  font-family: "Aristotelica Pro", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  font-weight: 900;
  color: #2f1c24;
  font-size: clamp(16px, 3.2vw, 22px);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.fp__successTitle {
  font-family: "Aristotelica Pro", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  font-weight: 800;
  font-size: clamp(18px, 3.6vw, 26px);
  color: #3a2a32;
}

.fp__overlay--success .fp__overlayCard h2 {
  font-family: "Aristotelica Pro", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
}

.fp__confetti {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 0;
}

.fp__confettiPiece {
  position: absolute;
  width: 10px;
  height: 16px;
  border-radius: 3px;
  opacity: 0.9;
  animation: fpConfettiFall 1.8s ease-in-out infinite;
  background: rgba(244, 63, 94, 0.9);
}

@keyframes fpConfettiFall {
  0% {
    transform: translate3d(var(--fp-conf-x, 0px), 0, 0) rotate(0deg);
    opacity: 0;
  }
  15% {
    opacity: 1;
  }
  100% {
    transform: translate3d(var(--fp-conf-x, 0px), 110vh, 0) rotate(320deg);
    opacity: 0;
  }
}

/* Corner-to-center streams */

/* Corner streams with inward drift */
.fp__confettiPiece--1 { left: 0%; top: -12px; --fp-conf-x: 18vw; animation-delay: 0s; animation-duration: 1.6s; }
.fp__confettiPiece--2 { left: 2%; top: -20px; --fp-conf-x: 22vw; animation-delay: 0.08s; animation-duration: 1.8s; }
.fp__confettiPiece--3 { left: 4%; top: -28px; --fp-conf-x: 20vw; animation-delay: 0.16s; animation-duration: 1.7s; }
.fp__confettiPiece--4 { left: 6%; top: -16px; --fp-conf-x: 24vw; animation-delay: 0.24s; animation-duration: 1.8s; }
.fp__confettiPiece--5 { left: 8%; top: -24px; --fp-conf-x: 26vw; animation-delay: 0.32s; animation-duration: 1.9s; }
.fp__confettiPiece--6 { left: 10%; top: -32px; --fp-conf-x: 22vw; animation-delay: 0.4s; animation-duration: 1.7s; }

.fp__confettiPiece--7 { left: 100%; top: -12px; --fp-conf-x: -18vw; animation-delay: 0.04s; animation-duration: 1.6s; }
.fp__confettiPiece--8 { left: 98%; top: -20px; --fp-conf-x: -22vw; animation-delay: 0.12s; animation-duration: 1.8s; }
.fp__confettiPiece--9 { left: 96%; top: -28px; --fp-conf-x: -20vw; animation-delay: 0.2s; animation-duration: 1.7s; }
.fp__confettiPiece--10 { left: 94%; top: -16px; --fp-conf-x: -24vw; animation-delay: 0.28s; animation-duration: 1.8s; }
.fp__confettiPiece--11 { left: 92%; top: -24px; --fp-conf-x: -26vw; animation-delay: 0.36s; animation-duration: 1.9s; }
.fp__confettiPiece--12 { left: 90%; top: -32px; --fp-conf-x: -22vw; animation-delay: 0.44s; animation-duration: 1.7s; }

.fp__confettiPiece--13 { left: 3%; top: -14px; --fp-conf-x: 16vw; animation-delay: 0.5s; animation-duration: 1.7s; }
.fp__confettiPiece--14 { left: 7%; top: -22px; --fp-conf-x: 20vw; animation-delay: 0.58s; animation-duration: 1.9s; }
.fp__confettiPiece--15 { left: 97%; top: -14px; --fp-conf-x: -16vw; animation-delay: 0.52s; animation-duration: 1.7s; }
.fp__confettiPiece--16 { left: 93%; top: -22px; --fp-conf-x: -20vw; animation-delay: 0.6s; animation-duration: 1.9s; }
.fp__confettiPiece--17 { left: 5%; top: -18px; --fp-conf-x: 18vw; animation-delay: 0.66s; animation-duration: 1.8s; }
.fp__confettiPiece--18 { left: 95%; top: -18px; --fp-conf-x: -18vw; animation-delay: 0.68s; animation-duration: 1.8s; }

