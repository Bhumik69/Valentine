/* =========================================================
   GIFTWALL — FULLY FLUID (EVERY PIXEL), NO SCROLL, 3 CARDS ALWAYS VISIBLE
   - Title always top, Hint always bottom
   - Cards ALWAYS all 3 visible (no scrolling)
   - Responds to width-only OR height-only changes
   - Uses fluid sizing and container queries
   ========================================================= */

/* -------- Local reset -------- */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body,
#root {
  inline-size: 100%;
  block-size: 100%;
  margin: 0;
  padding: 0;
}

/* If your whole site is single-screen, keep it.
   If other pages need scroll, remove from global and keep per-page. */
body {
  overflow: hidden;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  -webkit-tap-highlight-color: transparent;
}

img,
svg,
video,
canvas {
  max-inline-size: 100%;
  block-size: auto;
  display: block;
}

/* =========================================================
   Page wrapper (locks to viewport, no scroll)
   ========================================================= */
.giftwall {
  position: fixed;
  inset: 0;
  inline-size: 100%;
  block-size: 100svh;
  overflow: hidden;

  display: grid;
  place-items: center;

  background: radial-gradient(1200px 700px at 50% 0%, #ffe8ef 0%, #fff 70%);
}

/* =========================================================
   Inner layout: Title / Cards / Hint
   Container query makes it adapt to every pixel change
   ========================================================= */
.giftwall__inner {
  /* a stable readable max width, but always fits */
  inline-size: min(1120px, 100%);
  block-size: 100%;

  /* fluid padding responds to BOTH width and height using vmin */
  --pad: clamp(12px, 2.6vmin, 38px);
  padding: var(--pad);

  /* 3-row grid: title / cards / hint */
  display: grid;
  grid-template-rows: auto 1fr auto;

  /* fluid gap responds to height changes too */
  --gap: clamp(10px, 1.8vmin, 22px);
  row-gap: var(--gap);

  /* critical: prevents children from forcing overflow */
  min-block-size: 0;

  /* Container query */
  container-type: inline-size;
  container-name: giftwall;
}

/* =========================================================
   Title (top)
   ========================================================= */
.giftwall__title {
  margin: 0;
  text-align: center;
  color: #e34d79;
  font-weight: 900;
  letter-spacing: 0.08em;
  line-height: 1.05;

  /* font reacts to width + height */
  font-size: clamp(20px, 3.2vmin, 56px);
}

/* =========================================================
   Hint (bottom)
   ========================================================= */
.giftwall__hint {
  margin: 0;
  text-align: center;
  color: #e34d79;
  font-weight: 900;
  letter-spacing: 0.08em;
  line-height: 1.1;

  font-size: clamp(12px, 1.8vmin, 20px);
}

/* =========================================================
   Cards area (middle)
   Must ALWAYS show 3 cards.
   ========================================================= */
.giftwall__gifts {
  min-block-size: 0;

  /* We use grid because it can adapt to height-only changes better than flex */
  display: grid;

  /* Fluid spacing that responds to height + width */
  gap: clamp(10px, 1.7vmin, 22px);

  /* Default: 1 column, 3 rows (best on tall screens) */
  grid-template-columns: 1fr;
  grid-template-rows: repeat(3, 1fr);

  /* center nicely */
  align-items: stretch;
  justify-items: center;
}

/* =========================================================
   Smart auto-layout using container queries
   - If there's enough width, do 3 columns (1 row)
   - If medium, do 2 columns + 1 below (2 rows)
   This is continuous: as width changes by 1px it can switch.
   ========================================================= */

/* Wider containers → 3 in a row */
@container giftwall (min-width: 860px) {
  .giftwall__gifts {
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: 1fr;
    align-items: center;
  }
}

/* Medium width → 2 on top, 1 centered below */
@container giftwall (min-width: 560px) and (max-width: 859px) {
  .giftwall__gifts {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    grid-template-rows: repeat(2, 1fr);
  }

  /* third card spans both columns */
  .giftwall__gifts .giftcard:nth-child(3) {
    grid-column: 1 / -1;
    justify-self: center;
    max-inline-size: min(520px, 100%);
  }
}

/* =========================================================
   Card button — scales to available space automatically
   ========================================================= */
.giftcard {
  border: none;
  background: transparent;
  padding: 0;
  cursor: pointer;
  position: relative;

  /* Must be shrinkable to avoid overflow */
  min-inline-size: 0;
  min-block-size: 0;

  /* Let grid decide the box size, but cap it */
  inline-size: 100%;
  max-inline-size: clamp(220px, 32vmin, 420px);

  /* To guarantee "no scroll", card height adapts with available space */
  block-size: 100%;

  border-radius: clamp(16px, 2.2vmin, 26px);
}

/* =========================================================
   The SVG art is the "card face"
   KEY: use aspect-ratio so height follows width AND can shrink by height.
   ========================================================= */
.giftart {
  inline-size: 100%;
  block-size: auto;

  /* makes card scale perfectly */
  aspect-ratio: 260 / 180;

  border-radius: clamp(16px, 2.2vmin, 26px);
  padding: clamp(10px, 1.8vmin, 22px);

  background: rgba(255, 255, 255, 0.62);
  box-shadow: 0 20px 55px rgba(255, 80, 130, 0.15);
  backdrop-filter: blur(6px);

  color: #ff4f77;
  transition: transform 180ms ease, box-shadow 180ms ease;
}

/* hover only on real mouse */
@media (hover: hover) and (pointer: fine) {
  .giftcard:hover .giftart {
    transform: translateY(-6px) scale(1.01);
    box-shadow: 0 26px 75px rgba(255, 80, 130, 0.18);
  }
}

/* =========================================================
   Tag: stays readable but never breaks layout
   ========================================================= */
.giftcard__tag {
  position: absolute;
  left: 50%;
  top: 64%;
  transform: translate(-50%, -50%);

  background: rgba(255, 255, 255, 0.92);
  border: 2px solid rgba(242, 201, 212, 0.9);
  border-radius: 999px;

  padding: clamp(6px, 1.2vmin, 10px) clamp(10px, 2vmin, 18px);

  font-weight: 900;
  color: #c84a6b;
  letter-spacing: 0.02em;

  font-size: clamp(12px, 1.6vmin, 16px);

  box-shadow: 0 10px 22px rgba(255, 80, 130, 0.14);

  /* tap target */
  min-height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;

  white-space: nowrap;
}

/* =========================================================
   Height-only shrinking safety:
   If viewport is short, reduce title/hint a bit and tighten gaps.
   This triggers even if width stays fixed.
   ========================================================= */
@media (max-height: 700px) {
  .giftwall__inner {
    --pad: clamp(10px, 2.2vmin, 24px);
    --gap: clamp(8px, 1.4vmin, 14px);
  }

  .giftwall__title {
    font-size: clamp(18px, 2.8vmin, 40px);
  }

  .giftwall__hint {
    font-size: clamp(11px, 1.6vmin, 16px);
  }

  .giftart {
    padding: clamp(8px, 1.4vmin, 16px);
  }

  .giftcard__tag {
    top: 62%;
    min-height: 40px;
  }
}

/* Ultra short height (landscape phones): force 3 in a row when possible */
@media (orientation: landscape) and (max-height: 520px) {
  .giftwall__gifts {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    grid-template-rows: 1fr;
  }

  .giftwall__gifts .giftcard:nth-child(3) {
    grid-column: auto;
    max-inline-size: unset;
  }
}

/* Extra tiny widths: keep everything readable */
@media (max-width: 360px) {
  .giftwall__inner {
    --pad: 12px;
  }

  .giftcard {
    max-inline-size: 360px;
  }

  .giftcard__tag {
    font-size: 12px;
    padding: 7px 12px;
  }
}
