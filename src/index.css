@tailwind base;
@tailwind components;
@tailwind utilities;

/* =====================================================
   GLOBAL RESPONSIVE FOUNDATION
===================================================== */

@layer base {
  :root {
    /* Container */
    --container-max: 1100px;
    --container-pad: clamp(16px, 4vw, 32px);

    /* Spacing scale */
    --space-1: clamp(6px, 0.7vw, 10px);
    --space-2: clamp(10px, 1.1vw, 16px);
    --space-3: clamp(14px, 1.6vw, 22px);
    --space-4: clamp(18px, 2.2vw, 30px);
    --space-5: clamp(24px, 3vw, 44px);

    /* Typography scale */
    --text-xs: clamp(12px, 0.9vw, 13px);
    --text-sm: clamp(13px, 1.1vw, 15px);
    --text-md: clamp(14px, 1.2vw, 18px);
    --text-lg: clamp(18px, 1.6vw, 22px);
    --text-xl: clamp(22px, 2.2vw, 30px);
    --text-2xl: clamp(28px, 3vw, 40px);

    /* Tap target */
    --tap: 44px;

    /* Border radius */
    --radius-md: 14px;
    --radius-lg: 20px;
  }

  /* Universal box sizing */
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  /* Critical production fix */
  html,
  body,
  #root {
    height: 100%;
  }

  html,
  body {
    width: 100%;
    max-width: 100%;
    overflow-x: hidden; /* prevents accidental horizontal scroll */
  }

  body {
    margin: 0;
    font-size: var(--text-md);
    line-height: 1.5;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Media defaults */
  img,
  video,
  canvas,
  svg {
    max-width: 100%;
    height: auto;
    display: block;
  }

  /* Text overflow safety */
  p,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  a,
  span,
  div {
    overflow-wrap: anywhere;
    word-break: break-word;
  }

  /* Form + button consistency */
  button,
  input,
  textarea,
  select {
    font: inherit;
  }

  button,
  a {
    -webkit-tap-highlight-color: transparent;
  }

  /* Accessible focus */
  :focus-visible {
    outline: 2px solid currentColor;
    outline-offset: 2px;
  }
}

/* =====================================================
   COMPONENT UTILITIES
===================================================== */

@layer components {
  /* Reusable fluid container */
  .container {
    width: min(100%, var(--container-max));
    margin-inline: auto;
    padding-inline: var(--container-pad);
  }

  /* Vertical section spacing */
  .section {
    padding-block: var(--space-5);
  }
}

/* =====================================================
   EXTRA SAFETY FOR SMALL DEVICES
===================================================== */

@media (max-width: 480px) {
  * {
    max-width: 100%;
  }
}
